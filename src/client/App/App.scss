.App {
  overflow-x: hidden;
  background-color: var(--AppColorBg);

  .HeaderContainer {
    position: absolute;
    top: 0;
    left: var(--AppSidebarWidth);
    right: 0;
    height: var(--AppHeaderHeight);
    display: flex;
    align-items: 'stretch';
    z-index: 30;

    transition-property: left;
    transition-timing-function: ease;
    transition-duration: var(--AppLayoutTransitionDuration);

    @include media-down(md) {
      left: 0;
    }
  }

  .SidebarContainer {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: var(--AppSidebarWidth);
    display: flex;
    //align-items: 'stretch';
    z-index: 40;

    transition-property: left width;
    transition-timing-function: ease;
    transition-duration: var(--AppLayoutTransitionDuration);

    @include media-down(md) {
      left: calc(-1 * var(--AppSidebarWidth));
    }

    .-sidebar-compact & {
      // @include media-up(md) {
        position: absolute;
      // }
    }
  }

  .SidebarOverlay {
    position: absolute;
    // display: none;
    left: 200vw;
    right: 0;
    top: 0;
    bottom: 0;
    opacity: 0;
    -webkit-transition: opacity 0.3s ease;
    transition: opacity 0.3s ease;
    z-index: 35;
    // background-color: rgba(255, 255, 255, 0.3);
    background-color: rgba(0, 0, 0, 0.1);
  }

  .FooterContainer {
    position: absolute;
    bottom: 0;
    right: 0;
    left: var(--AppSidebarWidth);
    height: var(--AppFooterHeight);
    display: flex;
    align-items: 'stretch';
    z-index: 20;

    transition-property: left;
    transition-timing-function: ease;
    transition-duration: var(--AppLayoutTransitionDuration);

    @include media-down(md) {
      left: 0;
    }
  }

  .ContentContainer {
    display: flex;
    position: relative;
    padding-top: var(--AppHeaderHeight);
    padding-bottom: var(--AppFooterHeight);
    margin-left: var(--AppSidebarWidth);
    min-height: 100vh;
    align-items: stretch;
    z-index: 10;

    transition-property: margin-left;
    transition-timing-function: ease;
    transition-duration: var(--AppLayoutTransitionDuration);

    @include media-down(md) {
      margin-left: 0;
    }
  }

  .Content {
    width: 100%;
  }

  .ContentBackground {
    position: absolute;
    width: 100%;
    top: var(--AppHeaderHeight);
    bottom: var(--AppFooterHeight);
    z-index: -1;
  }


  // Layout variations
  &.-header-fixed {
    .HeaderContainer {
      position: fixed;
    }
  }


  &.-sidebar-fixed {
    .SidebarContainer {
      position: fixed;
    }
  }

  &.-sidebar-static {
    .SidebarContainer {
      position: absolute;
    }
  }

  &.-footer-fixed {
    .FooterContainer {
      position: fixed;
    }
  }


  &.-sidebar-compact {
    .HeaderContainer {
      @include media-up(md) {
        left: var(--AppSidebarWidth-compact);
      }
    }

    .SidebarContainer {
      @include media-up(md) {
        width: var(--AppSidebarWidth-compact);
      }

      // In compact mode sidebar becomes closed after sm
      @include media(md) {
        left: 0;
      }
    }

    .FooterContainer {
      @include media-up(md) {
        left: var(--AppSidebarWidth-compact);
      }
    }
    .ContentContainer {
      @include media-up(md) {
        margin-left: var(--AppSidebarWidth-compact);
      }
    }

    &.-sidebar-closed-desktop {
      @include media-up(lg) {
        .SidebarContainer {
          left: calc(-1 * var(--AppSidebarWidth-compact));
        }
      }
    }
  }

  // By default on desktops the sidebar is open
  // Add this class to close the sidebar
  &.-sidebar-closed-desktop {
    @include media-up(lg) {
      .HeaderContainer {
        left: 0;
      }

      .SidebarContainer {
        left: calc(-1 * var(--AppSidebarWidth));
      }

      .FooterContainer {
        left: 0;
      }

      .ContentContainer {
        margin-left: 0;
      }
    }
  }

  // By default on mobiles and tablets the sidebar is closed
  // Add this class to open the sidebar
  &.-sidebar-open-mobile {
    @include media-down(md) {
      .SidebarContainer {
        left: 0;
      }

      .SidebarOverlay {
        left: 0;
        opacity: 1;
      }

      // Blur out the content
      .HeaderContainer,
      .ContentContainer,
      .FooterContainer {
        filter: blur(2px);
      }
    }
  }

  &.-sidebar-compact.-sidebar-nav-open {
    @include media-up(md) {
      .SidebarContainer {
        left: 0;
      }

      .SidebarOverlay {
        left: 0;
        opacity: 1;
      }

      // Blur out the content
      .HeaderContainer,
      .ContentContainer,
      .FooterContainer {
        filter: blur(2px);
      }
    }
  }

  // RTL variation
  .-rtl & {

    .HeaderContainer {
      left: 0;
      right: var(--AppSidebarWidth);

      @include media-down(md) {
        right: 0;
      }
    }

    .SidebarContainer {
      left: auto;
      right: 0;

      @include media-down(md) {
        left: auto;
        right: calc(-1 * var(--AppSidebarWidth));
      }
    }


    .FooterContainer {
      left: 0;
      right: var(--AppSidebarWidth);

      @include media-down(md) {
        right: 0;
      }
    }

    .ContentContainer {
      margin-left: 0;
      margin-right: var(--AppSidebarWidth);
      @include media-down(md) {
        margin-right: 0;
      }
    }

    &.-sidebar-closed-desktop {
      @include media-up(lg) {
        .HeaderContainer {
          right: 0;
        }

        .SidebarContainer {
          right: calc(-1 * var(--AppSidebarWidth));
        }

        .FooterContainer {
          right: 0;
        }

        .ContentContainer {
          margin-right: 0;
        }
      }
    }

    &.-sidebar-open-mobile {
      @include media-down(md) {
        .SidebarContainer {
          right: 0;
        }

        .SidebarOverlay {
          right: 0;
        }
      }
    }
  }

}
